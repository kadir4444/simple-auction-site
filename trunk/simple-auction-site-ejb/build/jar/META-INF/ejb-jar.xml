<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ejb-jar PUBLIC '-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN' 'http://java.sun.com/dtd/ejb-jar_2_0.dtd'>
<!-- <ejb-jar version="2.1" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd">  -->
<ejb-jar>
    <display-name>simple-auction-site-ejb</display-name>
    <enterprise-beans>
        <entity>
            <display-name>AuctionEB</display-name>
            <ejb-name>AuctionBean</ejb-name>
            <local-home>project5376.AuctionLocalHome</local-home>
            <local>project5376.AuctionLocal</local>
            <ejb-class>project5376.AuctionBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant>
            <cmp-version>2.x</cmp-version> 
            <abstract-schema-name>Auction</abstract-schema-name>
            <cmp-field>
                <field-name>auctionNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>startTime</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>stopTime</field-name>
            </cmp-field>
            <primkey-field>auctionNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByAuctionNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(a) FROM Auction AS a WHERE a.auctionNo = ?1</ejb-ql>
            </query>
            </entity>
        <entity>
            <display-name>PaymentEB</display-name>
            <ejb-name>PaymentBean</ejb-name>
            <local-home>project5376.PaymentLocalHome</local-home>
            <local>project5376.PaymentLocal</local>
            <ejb-class>project5376.PaymentBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant> 
            <cmp-version>2.x</cmp-version> 
            <abstract-schema-name>Payment</abstract-schema-name>
            <cmp-field>
                <field-name>paymentNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>amount</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>type</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>cardNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>expDate</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>securityCode</field-name>
            </cmp-field>
            <primkey-field>paymentNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByPaymentNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(p) FROM Payment AS p WHERE p.paymentNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByAmount</method-name>
                    <method-params>
                        <method-param>java.lang.Double</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(p) FROM Payment AS p WHERE p.amount = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByType</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(p) FROM Payment AS p WHERE p.type = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByCardNo</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(p) FROM Payment AS p WHERE p.cardNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findBySecurityCode</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(p) FROM Payment AS p WHERE p.securityCode = ?1</ejb-ql>
            </query>
            </entity>
        <entity>
            <display-name>ItemEB</display-name>
            <ejb-name>ItemBean</ejb-name>
            <local-home>project5376.ItemLocalHome</local-home>
            <local>project5376.ItemLocal</local>
            <ejb-class>project5376.ItemBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant>
            <cmp-version>2.x</cmp-version> 
            <abstract-schema-name>Item</abstract-schema-name>
            <cmp-field>
                <field-name>itemNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>itemName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>description</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>condition1</field-name>
            </cmp-field>
            <primkey-field>itemNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByItemNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(i) FROM Item AS i WHERE i.itemNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByItemName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(i) FROM Item AS i WHERE i.itemName = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByDescription</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(i) FROM Item AS i WHERE i.description = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByCondition1</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(i) FROM Item AS i WHERE i.condition1 = ?1</ejb-ql>
            </query>
            </entity>
        <entity>
            <display-name>RatingEB</display-name>
            <ejb-name>RatingBean</ejb-name>
            <local-home>project5376.RatingLocalHome</local-home>
            <local>project5376.RatingLocal</local>
            <ejb-class>project5376.RatingBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant>
            <cmp-version>2.x</cmp-version> 
            <abstract-schema-name>Rating</abstract-schema-name>
            <cmp-field>
                <field-name>ratingNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>rating</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>comment</field-name>
            </cmp-field>
            <primkey-field>ratingNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByRatingNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(r) FROM Rating AS r WHERE r.ratingNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByRating</method-name>
                    <method-params>
                        <method-param>int</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(r) FROM Rating AS r WHERE r.rating = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByComment</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(r) FROM Rating AS r WHERE r.comment = ?1</ejb-ql>
            </query>
            </entity>
        <entity>
            <display-name>BidEB</display-name>
            <ejb-name>BidBean</ejb-name>
            <local-home>project5376.BidLocalHome</local-home>
            <local>project5376.BidLocal</local>
            <ejb-class>project5376.BidBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant>
            <cmp-version>2.x</cmp-version> 
            <abstract-schema-name>Bid</abstract-schema-name>
            <cmp-field>
                <field-name>bidNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>bidAmt</field-name>
            </cmp-field>
            <primkey-field>bidNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByBidNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(b) FROM Bid AS b WHERE b.bidNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByBidAmt</method-name>
                    <method-params>
                        <method-param>int</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(b) FROM Bid AS b WHERE b.bidAmt = ?1</ejb-ql>
            </query>
            </entity>
        <entity>
            <display-name>UserEB</display-name>
            <ejb-name>UserBean</ejb-name>
            <local-home>project5376.UserLocalHome</local-home>
            <local>project5376.UserLocal</local>
            <ejb-class>project5376.UserBean</ejb-class>
            <persistence-type>Container</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>False</reentrant>
            <cmp-version>2.x</cmp-version>
            <abstract-schema-name>User</abstract-schema-name>
            <cmp-field>
                <field-name>userNo</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>userId</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>firstName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>lastName</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>address1</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>address2</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>state</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>zipCode</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>email</field-name>
            </cmp-field>
            <cmp-field>
                <field-name>password</field-name>
            </cmp-field>
            <primkey-field>userNo</primkey-field>
            <query>
                <query-method>
                    <method-name>findByUserNo</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.userNo = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByUserId</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.userId = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByFirstName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.firstName = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByLastName</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.lastName = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByAddress1</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.address1 = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByAddress2</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.address2 = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByState</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.state = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByZipCode</method-name>
                    <method-params>
                        <method-param>java.lang.Integer</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.zipCode = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByEmail</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.email = ?1</ejb-ql>
            </query>
            <query>
                <query-method>
                    <method-name>findByPassword</method-name>
                    <method-params>
                        <method-param>java.lang.String</method-param>
                    </method-params>
                </query-method>
                <ejb-ql>SELECT OBJECT(u) FROM User AS u WHERE u.password = ?1</ejb-ql>
            </query>
            </entity>
        </enterprise-beans>
        <relationships>
        <ejb-relation>
            <ejb-relation-name>Auction-Item</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Auction has one Item</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>AuctionBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>itemNo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Item</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>ItemBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>auctionCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Auction-User</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Auction has one User</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>AuctionBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>sellerId</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>User</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>UserBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>auctionCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Payment-User</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Payment has one User</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>PaymentBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>buyerNo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>User</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                
                <relationship-role-source>
                    <ejb-name>UserBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>paymentCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Payment-Auction</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Payment has one Auction</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>PaymentBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>auction</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Auction</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>AuctionBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>paymentCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Rating-User</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Rating has one Rated User</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>RatingBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>raterId</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>User</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                
                <relationship-role-source>
                    <ejb-name>UserBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>ratingCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Rating-User-1</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Rating has one Rating User</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>RatingBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>ratedUserId</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>User</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>UserBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>ratingCollection1</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Bid-Auction</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Bid has one Auction</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>BidBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>auctionNo</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Auction</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>AuctionBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>bidCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        <ejb-relation>
            <ejb-relation-name>Bid-User</ejb-relation-name>
            <ejb-relationship-role>
                <ejb-relationship-role-name>Bid has one User</ejb-relationship-role-name>
                <multiplicity>Many</multiplicity>
                <relationship-role-source>
                    <ejb-name>BidBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>bidderId</cmr-field-name>
                </cmr-field>
            </ejb-relationship-role>
            <ejb-relationship-role>
                <ejb-relationship-role-name>User</ejb-relationship-role-name>
                <multiplicity>One</multiplicity>
                 
                <relationship-role-source>
                    <ejb-name>UserBean</ejb-name>
                </relationship-role-source>
                <cmr-field>
                    <cmr-field-name>bidCollection</cmr-field-name>
                    <cmr-field-type>java.util.Collection</cmr-field-type>
                </cmr-field>
            </ejb-relationship-role>
        </ejb-relation>
        </relationships>
       
    <assembly-descriptor>
        <container-transaction>
            <method>
                <ejb-name>AuctionBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>PaymentBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ItemBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>RatingBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>BidBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>UserBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        </assembly-descriptor>
    </ejb-jar>

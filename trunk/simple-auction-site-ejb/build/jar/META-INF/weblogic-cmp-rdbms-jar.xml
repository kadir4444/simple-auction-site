<?xml version="1.0"?>

<!DOCTYPE weblogic-rdbms-jar PUBLIC 
 '-//BEA Systems, Inc.//DTD WebLogic 8.1.0 EJB RDBMS Persistence//EN'
 'http://www.bea.com/servers/wls810/dtd/weblogic-rdbms20-persistence-810.dtd'>

<weblogic-rdbms-jar>

  <weblogic-rdbms-bean>
    <ejb-name>AuctionBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>auction</table-name>
      <field-map>
        <cmp-field>auctionNo</cmp-field>
        <dbms-column>AuctionNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>startTime</cmp-field>
        <dbms-column>StartTime</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>stopTime</cmp-field>
        <dbms-column>StopTime</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  <weblogic-rdbms-bean>
    <ejb-name>BidBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>bid</table-name>
      <field-map>
        <cmp-field>bidNo</cmp-field>
        <dbms-column>BidNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>bidAmt</cmp-field>
        <dbms-column>BidAmt</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  <weblogic-rdbms-bean>
    <ejb-name>ItemBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>item</table-name>
      <field-map>
        <cmp-field>itemNo</cmp-field>
        <dbms-column>ItemNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>itemName</cmp-field>
        <dbms-column>ItemName</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>description</cmp-field>
        <dbms-column>Description</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>condition1</cmp-field>
        <dbms-column>Condition1</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  <weblogic-rdbms-bean>
    <ejb-name>PaymentBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>payment</table-name>
      <field-map>
        <cmp-field>paymentNo</cmp-field>
        <dbms-column>PaymentNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>amount</cmp-field>
        <dbms-column>Amount</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>type</cmp-field>
        <dbms-column>Type</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>cardNo</cmp-field>
        <dbms-column>CardNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>expDate</cmp-field>
        <dbms-column>ExpDate</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>securityCode</cmp-field>
        <dbms-column>SecurityCode</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  <weblogic-rdbms-bean>
    <ejb-name>RatingBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>rating</table-name>
      <field-map>
        <cmp-field>ratingNo</cmp-field>
        <dbms-column>RatingNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>rating</cmp-field>
        <dbms-column>Rating</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>comment</cmp-field>
        <dbms-column>Comment</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  <weblogic-rdbms-bean>
    <ejb-name>UserBean</ejb-name>
    <data-source-name>MySQLDS</data-source-name>
    <table-map>
      <table-name>user</table-name>
      <field-map>
        <cmp-field>userNo</cmp-field>
        <dbms-column>UserNo</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>userId</cmp-field>
        <dbms-column>UserId</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>firstName</cmp-field>
        <dbms-column>FirstName</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>lastName</cmp-field>
        <dbms-column>LastName</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>address1</cmp-field>
        <dbms-column>Address1</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>address2</cmp-field>
        <dbms-column>Address2</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>state</cmp-field>
        <dbms-column>State</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>zipCode</cmp-field>
        <dbms-column>ZipCode</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>email</cmp-field>
        <dbms-column>Email</dbms-column>
      </field-map>
      <field-map>
        <cmp-field>password</cmp-field>
        <dbms-column>Password</dbms-column>
      </field-map>
    </table-map>
  </weblogic-rdbms-bean>
  
  <weblogic-rdbms-relation>
    <relation-name>Auction-Item</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Auction has one Item</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>ItemNo</foreign-key-column>
          <key-column>ItemNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Auction-User</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Auction has one User</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>SellerId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Payment-User</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Payment has one User</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>BuyerNo</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Payment-Auction</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Payment has one Auction</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>Auction</foreign-key-column>
          <key-column>AuctionNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Rating-User</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Rating has one Rated User</relationship-role-name>
      <relationship-role-map>
        <!-- tcc <column-map>
          <foreign-key-column>RaterId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map> -->
        <column-map>
          <foreign-key-column>RatedUserId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Rating-User-1</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Rating has one Rating User</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>RaterId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map>
<!-- tcc        <column-map>
          <foreign-key-column>RatedUserId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map> -->
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Bid-Auction</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Bid has one Auction</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>AuctionNo</foreign-key-column>
          <key-column>AuctionNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  <weblogic-rdbms-relation>
    <relation-name>Bid-User</relation-name>
    <weblogic-relationship-role>
      <relationship-role-name>Bid has one User</relationship-role-name>
      <relationship-role-map>
        <column-map>
          <foreign-key-column>BidderId</foreign-key-column>
          <key-column>UserNo</key-column>
        </column-map>
      </relationship-role-map>
    </weblogic-relationship-role>
  </weblogic-rdbms-relation>
  
</weblogic-rdbms-jar>
